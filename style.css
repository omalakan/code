/* :root — це глобальна область видимості. 
  Змінні (Custom Properties) починаються з "--".
  Це саме те, що буде генерувати Recipe! Ми просто міняємо значення змінних,
  і весь дизайн миттєво змінюється.
*/
:root {
    /* ВИКОРИСТАННЯ СИСТЕМНИХ КОЛЬОРІВ CHROME OS 
       Замість hex-кодів (#ffffff) ми беремо системні значення.
       Якщо ви зміните тему ChromeOS на рожеву, кнопки стануть рожевими автоматично.
    */
    --bg-app: Canvas;            /* Системний фон (Білий/Світло-сірий) */
    --text-main: CanvasText;     /* Системний текст (Чорний/Темно-сірий) */
    --accent: AccentColor;       /* Системний акцент (Синій/Фіолетовий/Тощо) */
    
    /* Додаткові відтінки робимо напівпрозорими від системного тексту */
    --border: rgba(0, 0, 0, 0.1); 
    --bg-panel: rgba(0, 0, 0, 0.03); /* Ледь помітний сірий для панелей */
    --text-muted: graytext;      /* Системний колір неактивного тексту */
    
    /* Розміри. Виносимо їх в змінні, щоб легко міняти масштаб */
    --sidebar-w: 50px;
}

/* * — Універсальний селектор (всі елементи).
  box-sizing: border-box — Найважливіше правило в CSS layout!
  За замовчуванням ширина елемента = width + padding + border. Це пекло математики.
  border-box змушує браузер включати відступи і рамки ВНУТРІШНЬО у width.
*/
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    height: 100vh; /* 100% від Viewport Height (висоти видимого екрану) */
    display: flex; /* Вмикаємо Flexbox. Елементи стають в рядок. */
    background: var(--bg-app);
    color: var(--text-main);
    font-family: system-ui, -apple-system, sans-serif; /* Шрифт інтерфейсу */
    overflow: hidden; /* Забороняємо прокрутку всієї сторінки (у нас свій скрол в редакторі) */
}

/* Сайдбар */
#sidebar {
    width: var(--sidebar-w);
    background: var(--bg-panel);
    border-right: 1px solid var(--border);
    /* Flexbox для центрування іконок по вертикалі */
    display: flex; flex-direction: column; align-items: center; padding-top: 10px;
}

.nav-btn {
    width: 36px; height: 36px;
    background: none; border: none; 
    color: var(--text-muted);
    cursor: pointer; 
    margin-bottom: 5px;
    border-radius: 6px; /* Трохи заокруглені кути в стилі ChromeOS */
    font-weight: bold;
}
/* :hover — псевдоклас. Спрацьовує, коли миша наводиться на елемент */
.nav-btn:hover { background: rgba(0,0,0,0.05); color: var(--text-main); }
/* Активна кнопка бере колір акценту ОС */
.nav-btn.active { background: var(--border); color: var(--accent); }

/* Основна область */
#workspace {
    flex: 1; /* Магічна властивість! Займає ВЕСЬ вільний простір, що залишився після сайдбару. */
    display: flex; flex-direction: column; /* Елементи стають в стовпчик (вкладки, редактор, консоль) */
}

#tabs-bar {
    height: 40px; border-bottom: 1px solid var(--border);
    display: flex; align-items: center; justify-content: space-between;
    padding: 0 10px; background: var(--bg-app);
}

#btn-mode {
    border: 1px solid var(--border); background: transparent;
    padding: 4px 12px; border-radius: 4px; cursor: pointer;
    font-size: 13px; color: var(--text-main);
}
#btn-mode:hover { border-color: var(--accent); color: var(--accent); }

/* Редактор */
#editor-container {
    flex: 1; position: relative;
}

#code-editor {
    flex: 1; /* Текстове поле займає все інше місце */
    background: transparent; color: inherit; border: none;
    resize: none; /* Забороняємо користувачу тягати куток textarea */
    padding: 10px; outline: none; /* Прибираємо синє світіння при фокусі */
    font-family: 'Consolas', monospace;
    font-size: 14px; line-height: 1.5;
    white-space: pre; /* Зберігає всі пробіли і відступи як є */
}

#code-editor {
    width: 100%; height: 100%;
    border: none; resize: none; outline: none;
    padding: 20px; /* Більше повітря, бо немає номерів рядків */
    background: transparent;
    color: var(--text-main);
    font-family: 'Consolas', 'Courier New', monospace;
    font-size: 15px; /* Трохи більший шрифт для комфорту очей */
    line-height: 1.6;
}
/* Стиль виділення тексту (коли ми підсвічуємо помилку) */
::selection {
    background: var(--accent);
    color: white;
}

/* Консоль */
#console-panel {
    height: 150px;
    border-top: 1px solid var(--border);
    background: var(--bg-panel);
    display: flex; flex-direction: column;
}

.console-header {
    padding: 5px 10px; border-bottom: 1px solid var(--border);
    font-size: 11px; text-transform: uppercase; color: var(--text-muted);
    display: flex; justify-content: space-between;
}

#console-output {
    flex: 1; overflow-y: auto; padding: 10px; 
    font-family: monospace; font-size: 13px;
}

/* Стилі повідомлень в консолі */
.log-item { margin-bottom: 4px; padding: 2px 0; border-bottom: 1px solid transparent; }
.log-err { color: #d32f2f; /* Червоний для помилок завжди стандартний */ }
.log-sys { color: var(--accent); }

/* Посилання на помилку */
.err-link {
    text-decoration: underline; cursor: pointer; font-weight: bold;
    margin-left: 5px;
}
.err-link:hover { background: rgba(211, 47, 47, 0.1); }
